# 自定义Swiper图片预览效果

### 介绍
本方案做的是采用Swiper组件实现容器视图居中完全展示，两边等长露出，并且跟手滑动效果。

### 效果预览：

![](../../../../../../screenshots/device/Preview.gif)

**使用说明**

1. 进入页面，点击图片后图片会居中完全显示，再次点击图片会还原。
2. 向左滑动切换图片，前一张图片与后一张两边等长露出。
3. 点击滑动后的图片，同样可以实现居中完成显示。

### 具体实现

1. 如果所有子组件卡片大小一样，子组件内卡片居中展示即可实现效果。但是当子组件的卡片大小不一样时，无法通过简单的设置居中布局实现左右的等长露出,需要计算当前状态下的卡片的偏移量。
2. 滑动Swiper组件动态位置通过相应的回调函数实时位置更新,在onAnimationStart回调中，计算手指离开屏幕时卡片的偏移量，避免产生突变的偏移量,在onChange回调中提前计算Swiper滑动后卡片的位置。
3. 图片预览动效是通过共享元素转场结合全屏模态实现的。

### 相关权限

不涉及。

### 约束与限制

1. 本示例仅支持标准系统上运行，支持设备：华为手机。

2. HarmonyOS系统：HarmonyOS NEXT Developer Beta1及以上。

3. DevEco Studio版本：DevEco Studio NEXT Developer Beta1及以上。

4. HarmonyOS SDK版本：HarmonyOS NEXT Developer Beta1 SDK及以上。