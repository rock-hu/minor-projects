OpenHarmony社区CICD基础设施运维账号管理规范v2.0
========

目的
----

本文旨在指导OpenHarmony社区CICD基础设施生产环境集中管理的账号权限的申请和授予，规范账号权限管理流程，通过对账号权限的整个生命周期过程的有效管理和监控，确保生产环境访问受控，降低安全风险，提升现网的运维质量。

使用范围
--------

OpenHarmony社区基础设施华为云租户账号管理

术语及定义
----------

| **术语分类** | **定义**                                         |
|--------------|--------------------------------------------------|
| SRE运维账号  | 用于SRE运维人员日常登录系统进行日常维护工作      |
| 业务运维账号 | 用于业务运维人员日常登录系统进行日常业务维护工作 |

账号分类
--------

### 账号分类

| **分类**     | **定义**                                                                                                         |
|--------------|------------------------------------------------------------------------------------------------------------------|
| SRE运维账号  | SRE使用，根据SRE不同角色可以对账号权限做进一步细分和限制                                                         |
| 业务运维账号 | 设备、系统和产品服务的个人账号，每个用户账号和口令都不一样，用户使用自己的个人账号和口令登录系统进行日常运维操作 |

角色与职责
----------

| **角色名称** | **职责**                                                                                                                                                                                                             | **对应职位/岗位** |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
| 帐号管理员   | 指帐号/权限管理的日常操作人员，如：负责处理审批后的账号申请开通和释放，进行口令保管、分发、回收，以及执行帐号责任人和使用人变更的操作等。通常情况，集中管理的帐号由系统安全管理员担任，分散管理的帐号由SRE代表担任。 | SRE               |
| 帐号申请人   | 根据日常业务需求申请对应账号资质，对申请资源和实际运维的业务一致性负责。                                                                                                                                             | 运维人员          |
| 帐号使用人   | 指帐号/权限的行权人员，具备账号/权限资格。                                                                                                                                                                           | 运维人员          |
| 帐号责任人   | 指落实帐号/权限管理的要求，对帐号/权限的安全性负责的人员。如：清楚帐号用途，保证帐号不被挪用，确保帐号口令在系统中密文存放，制定口令修改方案及提供操作指导等。                                                       | SRE               |

账号管理规范流程
================

账号申请与授权流程
------------------

1、流程说明

| 活动编码  | 活动名称 |  活动内容 |  角色 |  输入 | 输出  |
| ------------ | ------------ | ------------ | ------------ | ------------ | ------------ |
|   001| 权限资质申请  | 申请基于本团队日常运维业务需要申请加入本领域或干系领域业务群组  | 申请人  |  加入群组申请需求 | 申请理由  |
|   002| 设置账号权限  |  将申请人加入业务群组，配置申请人的群组权限 |  账号管理员 | 群组负责人审批意见  | 添加申请人到业务群组成为账号使用人  |
|003   |提取授权申请   | 账号使用人根据日常运维业务需求按需提交授权申请，包括申请事由、申请对象，申请时间  |   账号使用人|  日常运维提权申请需求 |申请对象，账号和申请时间   |
|  004 |提权合理性   | 判断按需提权的规范性和合理性，如提权的账号事由（“3+1”）、时间和资源对接、账号是否合理；其中“3+1”：P4级以上事件号、变更号、告警工单号和warroom；（流程KCP点：提权的合规性）| 账号管理员  |  申请事由（“3+1”）对象、账号和时间 |申请合理如否   |
| 005  | 提权账号权限  |获取申请的资源账号并获得账号的相应现网操作权限   | 账号管理员  |申请合理   |  本地特权账号和口令 |
|  006 | 有效期内使用 | 在申请的规定时间内使用账号和口令登录现网进行日常运维操作  |  账号使用人 |  账号和口令 |登录系统日常运维操作   |
| 007  | 过期回收  | 权限时间到期只有回收账号和口令，系统本地账号修改本地账号口令，使申请的账号和口令失效  |账号使用人   | 过期时间  | 系统本地账号改密  |



账号管理要求
------------

1.  账号申请：发送邮件主送forest.cong@huawei.com、fanluofei@huawei.com，抄送youthdragon.wangyiming@huawei.com、zhaopeng22@huawei.com，邮件正文描述申请账号的背景。经过评审通过后由专人执行创建。

2.  密码修改：所有华为云基础设施IAM子账号使用人，需要至少每半年修改一次密码。

3.  账号删除：发送邮件主送forest.cong@huawei.com、fanluofei@huawei.com，抄送youthdragon.wangyiming@huawei.com、zhaopeng22@huawei.com，邮件正文描述删除账号的背景。经过评审通过后由专人执行删除。

4.  账号转借：一人一号，禁止账号转借。一经发现，所持有的账号禁用，审视确认后删除该账号并终身不再对该使用人开放账号申请。

5.  账号问题求助：任何与华为云基础设施账号及IAM子账号相关问题请发送邮件主送forest.cong@huawei.com、fanluofei@huawei.com，抄送youthdragon.wangyiming@huawei.com、zhaopeng22@huawei.com，邮件正文描述相关问题。

流程范围
--------

| **流程** |  服务                    |
|--------------|------------------------------|
| **流程起点** |  服务上线                     |
| **流程终点** | 服务下线                     |
| **输 入**    | 服务上线后运维帐号申请       |
| **输 出**    | 运维帐号申请、使用和关闭记录 |

相关文件
========

文件拟制/修订记录
-----------------

| **版本** | **拟制/修订责任人** | **拟制/修订日期** | **修订内容及理由**                    | **批准人** |
|----------|---------------------|-------------------|---------------------------------------|------------|
| V01.00   | 丛林 00565983       | 2022.6.1          | OpenHarmony社区基础设施账号处理流程。 |            |
| V02.00   | 丛林 00565983       | 2022.12.12        | 补充2.2账号管理要求                   |            |
