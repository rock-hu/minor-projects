/*
 * Copyright (c) 2023 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// DEF_MIR_INTRINSIC(STR, NAME, INTRN_CLASS, RETURN_TYPE, ARG0, ARG1, ARG2, ARG3, ARG4, ARG5)
DEF_MIR_INTRINSIC(UNDEFINED,\
                  nullptr, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(DEX_ATOMIC_INC,\
                  "__dex_ainc", kIntrnIsAtomic, kArgTyI32, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(DEX_ATOMIC_DEC,\
                  "__dex_adec", kIntrnIsAtomic, kArgTyI32, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(MPL_ATOMIC_EXCHANGE_PTR,\
                  "__mpl_atomic_exchange_ptr", kIntrnIsAtomic, kArgTyPtr, kArgTyPtr, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(MPL_PROF_COUNTER_INC,\
                  "__mpl_prof_counter_inc", INTRNISSPECIAL, kArgTyVoid, kArgTyU32, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(MPL_CLEAR_STACK,\
                  "__mpl_clear_stack", kArgTyVoid, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(MPL_GET_VTAB_FUNC,\
                  "MCC_getFuncPtrFromVtab", kArgTyA64, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(MPL_READ_OVTABLE_ENTRY,\
                  "__mpl_const_offset", kArgTyA32, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(MPL_READ_OVTABLE_ENTRY2,\
                  "__mpl_const_offset2", kArgTyA32, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(MPL_READ_OVTABLE_ENTRY_LAZY,\
                  "__mpl_const_offset_lazy", kArgTyA32, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(MPL_READ_OVTABLE_ENTRY_VTAB_LAZY,\
                  "__mpl_const_offset_vtab_lazy", kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(MPL_READ_OVTABLE_ENTRY_FIELD_LAZY,\
                  "__mpl_const_offset_field_lazy", kArgTyA32, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(MPL_READ_ARRAYCLASS_CACHE_ENTRY,\
                  "__mpl_const_arrayclass_cache", kArgTyPtr, kArgTyU32, kArgTyUndef, kArgTyUndef, kArgTyUndef)

// start of RC Intrinsics with one parameters
DEF_MIR_INTRINSIC(MCCSetPermanent,\
                  "MCC_SetObjectPermanent", kArgTyVoid, kArgTyRef)
DEF_MIR_INTRINSIC(MCCIncRef,\
                  "MCC_IncRef_NaiveRCFast", kArgTyVoid, kArgTyRef)
DEF_MIR_INTRINSIC(MCCDecRef,\
                  "MCC_DecRef_NaiveRCFast", kArgTyVoid, kArgTyRef)
DEF_MIR_INTRINSIC(MCCDecRefReset,\
                  "MCC_ClearLocalStackRef", kArgTyVoid, kArgTyPtr)
DEF_MIR_INTRINSIC(MCCLoadRefSVol,\
                  "MCC_LoadVolatileStaticField", kArgTyVoid, kArgTyRef)
DEF_MIR_INTRINSIC(MCCLoadRefS,\
                  "MCC_LoadRefStatic", kArgTyVoid, kArgTyRef)
DEF_MIR_INTRINSIC(MCCSetObjectPermanent,\
                  "MCC_SetObjectPermanent", kArgTyVoid, kArgTyRef)

// start of RC Intrinsics with two parameters
DEF_MIR_INTRINSIC(MCCCheck,\
                  "MCC_CheckRefCount", kArgTyVoid, kArgTyRef, kArgTyU32)
DEF_MIR_INTRINSIC(MCCCheckArrayStore,\
                  "MCC_Reflect_Check_Arraystore", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCIncDecRef,\
                  "MCC_IncDecRef_NaiveRCFast", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCIncDecRefReset,\
                  "MCC_IncDecRefReset", kArgTyVoid, kArgTyRef, kArgTyPtr)
DEF_MIR_INTRINSIC(MCCDecRefResetPair,\
                  "MCC_DecRefResetPair", kArgTyVoid, kArgTyPtr, kArgTyPtr)
DEF_MIR_INTRINSIC(MCCLoadWeakVol,\
                  "MCC_LoadVolatileWeakField", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCLoadWeak,\
                  "MCC_LoadWeakField", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCLoadRef,\
                  "MCC_LoadRefField_NaiveRCFast", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCLoadRefVol,\
                  "MCC_LoadVolatileField", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteReferent,\
                  "MCC_WriteReferent", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteSVolNoInc,\
                  "MCC_WriteVolatileStaticFieldNoInc", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteSVolNoDec,\
                  "MCC_WriteVolatileStaticFieldNoDec", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteSVolNoRC,\
                  "MCC_WriteVolatileStaticFieldNoRC", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteSVol,\
                  "MCC_WriteVolatileStaticField", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteSNoInc,\
                  "MCC_WriteRefFieldStaticNoInc", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteSNoDec,\
                  "MCC_WriteRefFieldStaticNoDec", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteSNoRC,\
                  "MCC_WriteRefFieldStaticNoRC", kArgTyVoid, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteS,\
                  "MCC_WriteRefFieldStatic", kArgTyVoid, kArgTyRef, kArgTyRef)

// start of RC intrinsics with three parameters
DEF_MIR_INTRINSIC(MCCWriteVolNoInc,\
                  "MCC_WriteVolatileFieldNoInc", kArgTyVoid, kArgTyRef, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteVolNoDec,\
                  "MCC_WriteVolatileFieldNoDec", kArgTyVoid, kArgTyRef, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteVolNoRC,\
                  "MCC_WriteVolatileFieldNoRC", kArgTyVoid, kArgTyRef, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteVol,\
                  "MCC_WriteVolatileField", kArgTyVoid, kArgTyRef, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteNoInc,\
                  "MCC_WriteRefFieldNoInc", kArgTyVoid, kArgTyRef, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteNoDec,\
                  "MCC_WriteRefFieldNoDec", kArgTyVoid, kArgTyRef, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteNoRC,\
                  "MCC_WriteRefFieldNoRC", kArgTyVoid, kArgTyRef, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWrite,\
                  "MCC_WriteRefField", kArgTyVoid, kArgTyRef, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteVolWeak,\
                  "MCC_WriteVolatileWeakField", kArgTyVoid, kArgTyRef, kArgTyRef, kArgTyRef)
DEF_MIR_INTRINSIC(MCCWriteWeak,\
                  "MCC_WriteWeakField", kArgTyVoid, kArgTyRef, kArgTyRef, kArgTyRef)

DEF_MIR_INTRINSIC(MPL_MEMSET_LOCALVAR,\
                  "", kArgTyPtr, kArgTyU32, kArgTyU8, kArgTyU32, kArgTyUndef, kArgTyUndef, kArgTyUndef)
DEF_MIR_INTRINSIC(MPL_SET_CLASS,\
                  "", kArgTyPtr, kArgTyPtr, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)

// start of GC Intrinsics
DEF_MIR_INTRINSIC(MCCGCCheck,\
                  "MCC_CheckObjAllocated", kArgTyVoid, kArgTyRef)

// start of Profile Intrinsics
DEF_MIR_INTRINSIC(MCCSaveProf,\
                  "MCC_SaveProfile", kArgTyVoid, kArgTyRef)

#include "intrinsic_c.def"
#include "intrinsic_js.def"
#include "intrinsic_js_eng.def"
DEF_MIR_INTRINSIC(LAST,\
                  nullptr, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef, kArgTyUndef)
