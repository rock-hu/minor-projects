/*
 * Copyright (c) 2025 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

@Entry
@Component
struct Selection_Valid {
  @State button_text_1: string = 'start = 8,end = 2,click times = '
  @State button_1_click_times: number = 0
  controller_1: TextInputController = new TextInputController()
  @State button_text_2: string = 'start = -2,end = 8,click times = '
  @State button_2_click_times: number = 0
  controller_2: TextInputController = new TextInputController()
  @State button_text_3: string = 'start = 2,end = 100,click times = '
  @State button_3_click_times: number = 0
  controller_3: TextInputController = new TextInputController()
  @State button_text_4: string = 'start = 5,end = 5,click times = '
  @State button_4_click_times: number = 0
  controller_4: TextInputController = new TextInputController()
  @State text_5: string = 'è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬è¶…é•¿æ–‡æœ¬'
  @State button_text_5: string = 'start = 5,end = 5,click times = '
  @State button_5_click_times: number = 0
  controller_5: TextInputController = new TextInputController()
  @State button_6_click_times_default: number = 0
  @State button_6_click_times_hide: number = 0
  @State button_6_click_times_show: number = 0
  controller_6: TextInputController = new TextInputController()
  controller_7: TextInputController = new TextInputController()

  build() {
    Flex({ justifyContent: FlexAlign.Center, }) {
      Scroll() {
        Column({ space: 10 }) {
          Text() {
            Span('å…±6æ¡è§„æ ¼')
            Span('è§„æ ¼1ã€selectionStart>selectionEndï¼Œæ— é€‰ä¸­æ•ˆæœ:\n')
            Span('è§„æ ¼2ã€å…¥å‚selectionStart<0åˆ™é€‰0 \n')
            Span('è§„æ ¼3ã€selectionEnd>æœ€å¤§æ–‡æœ¬é•¿åº¦ï¼Œåˆ™é€‰æœ€å¤§æ–‡æœ¬é•¿åº¦ \n')
            Span('è§„æ ¼4ã€ selectionStart == selectionEndï¼Œé—ªå…‰æ ‡\n')
            Span('è§„æ ¼5ã€å…¥å‚åˆæ³•æœ‰æ•ˆï¼Œåˆ™æ˜¾ç¤ºé€‰ä¸­åŒºå¹¶å°†é€‰ä¸­åŒºç§»åŠ¨åˆ°å¯è§†åŒºåŸŸå†…ï¼Œé™¤PCå¤–ä¼šæ˜¾ç¤ºæ‰‹æŸ„ \n')
            Span('è§„æ ¼6ã€å…¥å‚SelectionOptionsæ§åˆ¶èœå•æ˜¾ç¤ºï¼ŒMenuPolicy::HIDEä¸æ˜¾ç¤ºèœå•ï¼ŒMenuPolicy::SHOWæ˜¾ç¤ºèœå•ï¼Œå¦‚æœä½¿ç”¨é¼ æ ‡æ“ä½œï¼Œåˆ™ä¸æ˜¾ç¤ºæ‰‹æŸ„å’Œèœå•\n')
            Span('è§„æ ¼7ã€selectioné€‰ä¸­ä¸€åŠemojiæ—¶ï¼Œæ‹–åŠ¨ã€å‰ªåˆ‡ã€åˆ é™¤ã€è¾“å…¥ç­‰æ“ä½œéƒ½ä¼šå½±å“æ•´ä¸ªemoji\n')
          }

          Column({ space: 5 }) {
            Text('è§„æ ¼1ã€selectionStart>selectionEndï¼Œæ— é€‰ä¸­æ•ˆæœ \n')
            Text('selectionStart>selectionEndï¼Œç‚¹å‡»æŒ‰é’®åï¼Œæ²¡æœ‰å‡ºç°é€‰ä¸­åŒºï¼Œè§„æ ¼1 pass \n')
            TextInput({ text: '0123456789ï¼Œè§‚å¯Ÿï¼Œå…‰æ ‡ä½ç½®ä¸å˜', controller: this.controller_1 })
              .border({
                color: Color.Blue,
                width: 1,
                radius: 0,
                style: BorderStyle.Solid
              })
              .defaultFocus(true)
              .caretPosition(5)
            Button({ buttonStyle: ButtonStyleMode.NORMAL }) {
              Text(this.button_text_1 + this.button_1_click_times)
            }
            .height(25)
            .onClick(() => {
              this.controller_1.setTextSelection(8, 2)
              this.button_1_click_times = this.button_1_click_times + 1
            })
          }
          .width('95%')
          .border({
            color: Color.Black,
            width: 1,
            radius: 0,
            style: BorderStyle.Solid
          })


          Column({ space: 5 }) {
            Text('è§„æ ¼2ã€å…¥å‚selectionStart<0åˆ™é€‰0 \n')
            Text('selectionStart<0ï¼Œå…ˆç‚¹å‡»æ–‡æœ¬æ¡†ï¼Œå†ç‚¹å‡»æŒ‰é’®ï¼Œè§‚å¯Ÿé€‰ä¸­åŒºï¼Œå·¦ä¾§åœ¨0ä¹‹å‰ï¼Œè§„æ ¼2 pass \n')
            TextInput({ text: '0123456789ï¼Œè§‚å¯Ÿé€‰ä¸­åŒº', controller: this.controller_2 })
              .borderWidth(1)
              .caretPosition(5)
            Button({ buttonStyle: ButtonStyleMode.NORMAL }) {
              Text(this.button_text_2 + this.button_2_click_times)
            }
            .height(25)
            .onClick(() => {
              this.controller_2.setTextSelection(-2, 8)
              this.button_2_click_times = this.button_2_click_times + 1
            })
          }
          .borderWidth(1)


          Column({ space: 5 }) {
            Text('è§„æ ¼3ã€selectionEnd>æœ€å¤§æ–‡æœ¬é•¿åº¦ï¼Œåˆ™é€‰æœ€å¤§æ–‡æœ¬é•¿åº¦ \n')
            Text('å…ˆç‚¹å‡»æ–‡æœ¬æ¡†ï¼Œå†ç‚¹å‡»æŒ‰é’®ï¼Œè§‚å¯Ÿé€‰ä¸­åŒºï¼Œå³ä¾§åœ¨æ‰€æœ‰æ–‡æœ¬ä¹‹åï¼Œè§„æ ¼3 pass \n')
            TextInput({ text: '0123456789ï¼Œè§‚å¯Ÿé€‰ä¸­åŒº', controller: this.controller_3 })
              .borderWidth(1)
              .caretPosition(5)
            Button({ buttonStyle: ButtonStyleMode.NORMAL }) {
              Text(this.button_text_3 + this.button_3_click_times)
            }
            .height(25)
            .onClick(() => {
              this.controller_3.setTextSelection(2, 100)
              this.button_3_click_times = this.button_3_click_times + 1
            })
          }
          .borderWidth(1)


          Column({ space: 5 }) {
            Text('è§„æ ¼4ã€selectionStart == selectionEndï¼Œé—ªå…‰æ ‡ \n')
            Text('å…ˆç‚¹å‡»æ–‡æœ¬æ¡†ï¼Œå†ç‚¹å‡»æŒ‰é’®ï¼Œè§‚å¯Ÿé€‰ä¸­åŒºï¼Œå…‰æ ‡åœ¨5ä¹‹å‰é—ªçƒï¼Œè§„æ ¼4 pass \n')
            TextInput({ text: '0123456789ï¼Œè§‚å¯Ÿé€‰ä¸­åŒº', controller: this.controller_4 })
              .borderWidth(1)
              .caretPosition(0)
            Button({ buttonStyle: ButtonStyleMode.NORMAL }) {
              Text(this.button_text_4 + this.button_4_click_times)
            }
            .height(25)
            .onClick(() => {
              this.controller_4.setTextSelection(5, 5)
              this.button_4_click_times = this.button_4_click_times + 1
            })
          }
          .borderWidth(1)


          Column({ space: 5 }) {
            Text('è§„æ ¼5ã€å…¥å‚åˆæ³•æœ‰æ•ˆï¼Œåˆ™æ˜¾ç¤ºé€‰ä¸­åŒºå¹¶å°†é€‰ä¸­åŒºç§»åŠ¨åˆ°å¯è§†åŒºåŸŸå†…ï¼Œé™¤PCå¤–ä¼šæ˜¾ç¤ºæ‰‹æŸ„ \n')
            Text('è¶…é•¿æ–‡æœ¬ï¼šå…ˆç‚¹å‡»æ–‡æœ¬æ¡†ï¼Œå†ç‚¹å‡»æŒ‰é’®ï¼Œè§‚å¯Ÿé€‰ä¸­åŒºï¼Œå…‰æ ‡åœ¨5ä¹‹å‰é—ªçƒï¼Œè§„æ ¼5 pass \n')
            TextInput({ text: this.text_5 + '01234567890', controller: this.controller_5 })
              .borderWidth(1)
              .caretPosition(0)
            Button({ buttonStyle: ButtonStyleMode.NORMAL }) {
              Text(this.button_text_5 + this.button_5_click_times)
            }
            .height(25)
            .onClick(() => {
              this.controller_5.setTextSelection(this.text_5.length, this.text_5.length + 5)
              this.button_5_click_times = this.button_5_click_times + 1
            })
          }
          .borderWidth(1)


          Column({ space: 5 }) {
            Text('è§„æ ¼6ã€å…¥å‚SelectionOptionsæ§åˆ¶èœå•æ˜¾ç¤ºï¼ŒMenuPolicy::HIDEä¸æ˜¾ç¤ºèœå•ï¼ŒMenuPolicy::SHOWæ˜¾ç¤ºèœå•ï¼Œå¦‚æœä½¿ç”¨é¼ æ ‡æ“ä½œï¼Œåˆ™ä¸æ˜¾ç¤ºæ‰‹æŸ„å’Œèœå• \n')
            Text('defaultã€hideä¸å¼¹å‡ºèœå•ï¼Œshow å¼¹å‡ºèœå•ï¼Œ è§„æ ¼6 pass \n')
            TextInput({ text: '01234567890 æ§åˆ¶èœå•æ˜¾ç¤º', controller: this.controller_6 })
              .borderWidth(1)
              .caretPosition(0)
            Button({ buttonStyle: ButtonStyleMode.NORMAL }) {
              Text('æ§åˆ¶èœå•æ˜¾ç¤º default' + this.button_6_click_times_default)
            }
            .height(25)
            .onClick(() => {
              this.controller_6.setTextSelection(2, 5, { menuPolicy: MenuPolicy.DEFAULT })
              this.button_6_click_times_default = this.button_6_click_times_default + 1
            })

            Button({ buttonStyle: ButtonStyleMode.NORMAL }) {
              Text('æ§åˆ¶èœå•æ˜¾ç¤º HIDE' + this.button_6_click_times_hide)
            }
            .height(25)
            .onClick(() => {
              this.controller_6.setTextSelection(2, 5, { menuPolicy: MenuPolicy.HIDE })
              this.button_6_click_times_hide = this.button_6_click_times_hide + 1
            })

            Button({ buttonStyle: ButtonStyleMode.NORMAL }) {
              Text('æ§åˆ¶èœå•æ˜¾ç¤º SHOW' + this.button_6_click_times_show)
            }
            .height(25)
            .onClick(() => {
              this.controller_6.setTextSelection(2, 5, { menuPolicy: MenuPolicy.SHOW })
              this.button_6_click_times_show = this.button_6_click_times_show + 1
            })
          }
          .borderWidth(1)

          Column({ space: 5 }) {
            Text('è§„æ ¼7ã€selectioné€‰ä¸­ä¸€åŠemojiæ—¶ï¼Œæ‹–åŠ¨ã€å‰ªåˆ‡ã€åˆ é™¤ã€è¾“å…¥ç­‰æ“ä½œéƒ½ä¼šå½±å“æ•´ä¸ªemoji \n')
            Text('æ­¥éª¤ï¼šå…ˆç‚¹å‡»è¾“å…¥æ¡†ï¼Œå†ç‚¹å‡»æŒ‰é’® é€‰ä¸­ä¸€åŠemoji \n')
            Text('passæ¡ä»¶ï¼šæ‹–åŠ¨ã€å‰ªåˆ‡ã€åˆ é™¤ã€è¾“å…¥ç­‰æ“ä½œéƒ½ä¼šå½±å“æ•´ä¸ªemojiï¼Œæ–‡æœ¬ä¸ä¼šè¢«æ¸…ç©º \n')
            TextInput({ text: '12ğŸ˜…34', controller: this.controller_7 })
              .borderWidth(1)
              .caretPosition(0)
            Button({ buttonStyle: ButtonStyleMode.NORMAL }) {
              Text('é€‰ä¸­ä¸€åŠemoji')
            }
            .height(25)
            .onClick(() => {
              this.controller_7.setTextSelection(0, 3)
            })
          }
          .borderWidth(1)

          TextArea()
            .borderWidth(2)
            .height(500)
            .opacity(0)
        }
        .width('95%')
        .border({
          color: Color.Black,
          width: 1,
          radius: 0,
          style: BorderStyle.Solid
        })
        .alignItems(HorizontalAlign.Start)
      }
    }
    // .height('100%')

    .align(Alignment.TopStart)
  }
}