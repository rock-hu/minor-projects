@Entry
@Component
struct AddTextPage {
  @State message: string = 'Hello World';
  inputController: TextInputController = new TextInputController();
  areaController: TextAreaController = new TextAreaController();
  searchController: SearchController = new SearchController();

  build() {
    Scroll() {
      Column({ space: 2 }) {
        Column() {
          Text('è§„æ ¼1: è¾“å…¥æ¡†è¿½åŠ æ–‡æœ¬ï¼Œé»˜è®¤åŠ è‡³æœ«å°¾').fontColor(Color.Blue)
          Text('æ“ä½œæ­¥éª¤ï¼šç‚¹å‡»â€œå¢žåŠ æ–‡æœ¬â€çš„æŒ‰é’®ï¼Œè¾“å…¥æ¡†æœ«å°¾å¢žåŠ 123')
          Text('Passæ¡ä»¶ï¼šå¯¹åº”è¾“å…¥æ¡†æœ«å°¾å¢žåŠ 123').fontColor(Color.Red)

          Text('è§„æ ¼2: è¾“å…¥æ¡†å¢žåŠ æ–‡æœ¬æ”¯æŒemoji').fontColor(Color.Blue)
          Text('æ“ä½œæ­¥éª¤ï¼šç‚¹å‡»â€œå¢žåŠ emojiæ–‡æœ¬â€çš„æŒ‰é’®ï¼Œè¾“å…¥æ¡†æœ«å°¾å¢žåŠ emoji')
          Text('Passæ¡ä»¶ï¼šå¯¹åº”è¾“å…¥æ¡†æœ«å°¾å¢žåŠ emoji').fontColor(Color.Red)

          Text('è§„æ ¼3: è¾“å…¥æ¡†å¢žåŠ æ–‡æœ¬æ”¯æŒæŒ‡å®šä½ç½®æ’å…¥').fontColor(Color.Blue)
          Text('æ“ä½œæ­¥éª¤ï¼šç‚¹å‡»â€œindexä¸º2çš„ä½ç½®å¢žåŠ æ–‡æœ¬â€çš„æŒ‰é’®ï¼Œè¾“å…¥æ¡†åœ¨æ–‡æœ¬ç¬¬äºŒä¸ªä½ç½®æ’å…¥123')
          Text('Passæ¡ä»¶ï¼šå¯¹åº”è¾“å…¥æ¡†åœ¨æ–‡æœ¬ç¬¬äºŒä¸ªä½ç½®æ’å…¥123').fontColor(Color.Red)

          Text('è§„æ ¼4: è¾“å…¥æ¡†å¢žåŠ æ–‡æœ¬å†…å®¹ä¸ºå¼‚å¸¸å€¼ï¼Œä¸æ’å…¥å†…å®¹').fontColor(Color.Blue)
          Text('æ“ä½œæ­¥éª¤ï¼šç‚¹å‡»â€œå¢žåŠ å¼‚å¸¸æ–‡æœ¬â€çš„æŒ‰é’®ï¼Œè¾“å…¥æ¡†æ— å˜åŒ–')
          Text('Passæ¡ä»¶ï¼šå¯¹åº”è¾“å…¥æ¡†æ— å˜åŒ–').fontColor(Color.Red)

          Text('è§„æ ¼5: è¾“å…¥æ¡†å¼‚å¸¸ä½ç½®å¢žåŠ æ–‡æœ¬ï¼Œé»˜è®¤åŠ è‡³æœ«å°¾').fontColor(Color.Blue)
          Text('æ“ä½œæ­¥éª¤ï¼šç‚¹å‡»â€œå¼‚å¸¸ä½ç½®å¢žåŠ æ–‡æœ¬â€çš„æŒ‰é’®ï¼Œè¾“å…¥æ¡†æœ«å°¾å¢žåŠ 123')
          Text('Passæ¡ä»¶ï¼šå¯¹åº”è¾“å…¥æ¡†æœ«å°¾å¢žåŠ 123').fontColor(Color.Red)

          Text('è§„æ ¼6: è¾“å…¥æ¡†addTextå¢žåŠ æ–‡æœ¬ï¼Œè§¦å‘onChangeã€onTextSelectionChangeï¼Œä¸è§¦å‘onWillInsertã€onWillDeleteã€onDidInsertã€onDidDelete').fontColor(Color.Blue)
          Text('æ“ä½œæ­¥éª¤ï¼šç‚¹å‡»â€œå¢žåŠ æ–‡æœ¬â€çš„æŒ‰é’®ï¼ŒæŸ¥çœ‹æ—¥å¿—è¾“å‡º')
          Text('Passæ¡ä»¶ï¼šåªæ‰“å°onChangeã€onTextSelectionChangeçš„è¾“å‡ºå†…å®¹').fontColor(Color.Red)
        }
        .borderWidth(2)
        .margin(10)
        .alignItems(HorizontalAlign.Start)
        .borderColor(Color.Blue)
        .padding(2)
        .width('98%')

        TextInput({
          text: this.message + ' TextInput',
          controller: this.inputController
        })
          .onWillInsert(()=>{
            console.log('TextInput onWillInsert')
            return true;
          })
          .onWillDelete(()=>{
            console.log('TextInput onWillDelete')
            return true;
          })
          .onDidInsert(()=>{
            console.log('TextInput onDidInsert')
          })
          .onDidDelete(()=>{
            console.log('TextInput onDidDelete')
          })
          .onChange((value:string)=>{
            console.log('TextInput onChange:' + value)
          })
          .onTextSelectionChange((start:number, end:number)=>{
            console.log('TextInput onTextSelectionChange start:' + start + ' end:' + end)
          })

        TextArea({
          text: this.message + ' TextArea',
          controller: this.areaController
        })
          .onWillInsert(()=>{
            console.log('TextArea onWillInsert')
            return true;
          })
          .onWillDelete(()=>{
            console.log('TextArea onWillDelete')
            return true;
          })
          .onDidInsert(()=>{
            console.log('TextArea onDidInsert')
          })
          .onDidDelete(()=>{
            console.log('TextArea onDidDelete')
          })
          .onChange((value:string)=>{
            console.log('TextArea onChange:' + value)
          })
          .onTextSelectionChange((start:number, end:number)=>{
            console.log('TextArea onTextSelectionChange start:' + start + ' end:' + end)
          })

        Search({
          value: this.message + ' Search',
          controller: this.searchController
        })
          .onWillInsert(()=>{
            console.log('Search onWillInsert')
            return true;
          })
          .onWillDelete(()=>{
            console.log('Search onWillDelete')
            return true;
          })
          .onDidInsert(()=>{
            console.log('Search onDidInsert')
          })
          .onDidDelete(()=>{
            console.log('Search onDidDelete')
          })
          .onChange((value:string)=>{
            console.log('Search onChange:' + value)
          })
          .onTextSelectionChange((start:number, end:number)=>{
            console.log('Search onTextSelectionChange start:' + start + ' end:' + end)
          })

        Button('TextInput å¢žåŠ æ–‡æœ¬')
          .onClick(()=>{
            this.inputController.addText('123')
          })

        Button('TextInput å¢žåŠ emojiæ–‡æœ¬')
          .onClick(()=>{
            this.inputController.addText('ðŸ« ')
          })

        Button('TextInput indexä¸º2çš„ä½ç½®å¢žåŠ æ–‡æœ¬')
          .onClick(()=>{
            this.inputController.addText('123', {offset: 2})
          })

        Button('TextInput å¢žåŠ å¼‚å¸¸æ–‡æœ¬')
          .onClick(()=>{
            this.inputController.addText(undefined)
          })

        Button('TextInput å¼‚å¸¸ä½ç½®å¢žåŠ æ–‡æœ¬')
          .onClick(()=>{
            this.inputController.addText('123', { offset: undefined})
          })

        Text('=========================')
          .margin(5)

        Button('TextArea å¢žåŠ æ–‡æœ¬')
          .onClick(()=>{
            this.areaController.addText('123')
          })

        Button('TextArea å¢žåŠ emojiæ–‡æœ¬')
          .onClick(()=>{
            this.areaController.addText('ðŸ« ')
          })

        Button('TextArea indexä¸º2çš„ä½ç½®å¢žåŠ æ–‡æœ¬')
          .onClick(()=>{
            this.areaController.addText('123', {offset: 2})
          })

        Button('TextArea å¢žåŠ å¼‚å¸¸æ–‡æœ¬')
          .onClick(()=>{
            this.areaController.addText(undefined)
          })

        Button('TextArea å¼‚å¸¸ä½ç½®å¢žåŠ æ–‡æœ¬')
          .onClick(()=>{
            this.areaController.addText('123', { offset: undefined})
          })

        Text('=========================')
          .margin(5)

        Button('Search å¢žåŠ æ–‡æœ¬')
          .onClick(()=>{
            this.searchController.addText('123')
          })

        Button('Search å¢žåŠ emojiæ–‡æœ¬')
          .onClick(()=>{
            this.searchController.addText('ðŸ« ')
          })

        Button('Search indexä¸º2çš„ä½ç½®å¢žåŠ æ–‡æœ¬')
          .onClick(()=>{
            this.searchController.addText('123', {offset: 2})
          })

        Button('Search å¢žåŠ å¼‚å¸¸æ–‡æœ¬')
          .onClick(()=>{
            this.searchController.addText(undefined)
          })

        Button('Search å¼‚å¸¸ä½ç½®å¢žåŠ æ–‡æœ¬')
          .onClick(()=>{
            this.searchController.addText('123', { offset: undefined})
          })
      }.width('100%')
    }
  }
}