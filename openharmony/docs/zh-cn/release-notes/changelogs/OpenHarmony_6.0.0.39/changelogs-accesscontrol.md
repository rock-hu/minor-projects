# 程序访问控制子系统变更说明

## cl.access_token.1 位置控件功能变更

**访问级别**

公开接口

**变更原因**

从最新的大数据分析，在需要获取位置信息时，大部分应用使用地图picker或者权限弹窗来申请位置权限，仅有极少数应用使用位置控件，该特性的价值有限，经谨慎评估将该特性下架。

位置控件已经在API 15版本开始废弃，此次需要将位置控件的接口删除。

**变更影响**

该变更涉及应用适配。

变更前：

应用界面上集成位置控件，用户点击位置控件后，应用可获取临时的位置权限。其中，用户首次在应用中使用位置控件时，会弹出确认弹窗请求用户允许或者拒绝。

变更后：

1. 位置控件相关的接口从SDK中删除。
2. 升级镜像后，存量的应用可以继续使用位置控件功能。位置控件每次被点击后，都会弹出确认弹窗请求用户允许或者拒绝。

**起始 API Level**

10

**变更发生版本**

从OpenHarmony SDK 6.0.0.39 版本开始。

**变更的接口/组件**

@internal/component/ets/location_button.d.ts中所有接口。

**适配指导**

开发者通过权限弹窗申请用户授权，指导：[申请应用权限](../../../application-dev/security/AccessToken/request-user-authorization.md)。